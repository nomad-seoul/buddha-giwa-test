<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>ë””ì§€í„¸ ì‚¬ì°°</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=D2Coding&display=swap" rel="stylesheet">
</head>
<body>
  <canvas id="snow"></canvas>

  <!-- ì˜¤ë¥¸ìª½ ìƒë‹¨ ìŒì•… ì¬ìƒ ë²„íŠ¼ -->
<img src="images/moktak.png" id="sound-btn" alt="ëª©íƒ ë²„íŠ¼" onclick="playSound()" 
     style="position: fixed; top: 20px; right: 20px; width: 50px; z-index: 1000;">

  <!-- ğŸŒ„ ë°°ê²½ -->
  <img id="main-bg" src="images/pixel-temple-bg.png" alt="ë°°ê²½" class="full-bg"/>

  <!-- ğŸ§˜ ë©”ì¸ ì½˜í…ì¸  --> 
  <div class="main-wrapper">
    <div class="center-content" id="main-screen">
      <img src="images/pixel-buddha.png" alt="ë¶€ì²˜ë‹˜" class="buddha-img" id="main-buddha" />
      <div class="button-group">
        <div class="moktak-wrapper">
          <button class="moktak-button" onclick="enterClassicMode()">
            <img src="images/yeomju.png" alt="ëª©íƒ" class="moktak-img" />
          </button>
          <div class="balloon-container">
            <img src="images/balloon.png" alt="ë§í’ì„ " class="balloon-img" />
            <span class="balloon-text">ë””ì§€í„¸<br>ê°€ë¥´ì¹¨</span>
          </div>
        </div>
      </div>
      <div id="ninja-cat" class="cat-button-container">
        <button class="cat-button">
          <img src="images/cat.png" alt="ê³ ì–‘ì´">
        </button>
      </div>
      <div id="giwa-dog" class="dog-button-container">
<button class="dog-button" onclick="openGiwaPage()">
    <img src="images/dog.png" alt="ê°•ì•„ì§€" style="background: transparent !important;">

  </button>
</div>

      </div>
      <div id="quote-area" class="quote-text"></div>
    </div>
  </div>

<!-- ğŸ§˜ ì§„ì‹¬ìœ„ë¡œ ëª¨ë“œ í™”ë©´ -->
<div id="classic-screen" class="main-wrapper" style="display: none;">
  <div class="center-content">
  
    <img src="images/classic-buddha.png" alt="í´ë˜ì‹ ë¶€ì²˜ë‹˜" class="classic-buddha" />
  <div class="wooden-box">
    <div id="quote-area-classic" class="quote-text"></div>
  </div>
  <div class="button-group-horizontal">
    <button id="classic-more-btn" class="pixel-button" onclick="showAnotherClassicQuote()">
  <span class="emoji"> í•œ ë§ì”€ ë” </span>
</button>

  
    <button class="pixel-button" onclick="backToMain()">
      <span class="emoji">ë’¤ë¡œê°€ê¸°</span> 
    </button>
  </div>
 </div>

</div>

  
      <!-- ğŸ˜„ ì›ƒìŒ ìœ„ë¡œ ëª¨ë“œ í™”ë©´ -->
      <div id="lite-screen" class="main-wrapper" style="display: none;">
        <div class="center-content">
          <img src="images/pixel-buddha-laugh.png" alt=" ë¶€ì²˜ë‹˜" class="classic-buddha" />
          
          <div class="wooden-box">
            <div id="quote-area-lite" class="quote-text"></div>
          </div>
      
          <div class="button-group-horizontal">
     <button id="lite-more-btn" class="pixel-button" onclick="showAnotherLiteQuote()">
  <span class="emoji">í•œ ë§ì”€ ë”</span>
</button>

            <button class="pixel-button" onclick="backToMain()">
              <span class="emoji">ë’¤ë¡œê°€ê¸°</span> 
            </button>
  </div>
  
</div>
  <script src="script.js?v=20250422"></script>
  <div id="cat-popup" class="custom-popup">ì•¼ì˜¹ ì—…ë³´ê°€ ì •í™” ë©ë‹ˆë‹¤</div>
  <script>
    
/* â„ï¸ í”½ì…€ ëˆˆ ë‚´ë¦¬ëŠ” íš¨ê³¼ */
const canvasSnow = document.getElementById("snow");
const ctxSnow = canvasSnow.getContext("2d");

function resizeSnow() {
  canvasSnow.width = window.innerWidth;
  canvasSnow.height = window.innerHeight;
}
resizeSnow();
window.addEventListener("resize", resizeSnow);

const snowflakes = [];

function Snowflake() {
  this.x = Math.random() * canvasSnow.width;
  this.y = Math.random() * canvasSnow.height;
  this.speedY = Math.random() * 1 + 0.5;
  this.speedX = (Math.random() - 0.5) * 0.4;
  this.size = Math.floor(Math.random() * 3) + 2; 
}

Snowflake.prototype.update = function () {
  this.y += this.speedY;
  this.x += this.speedX;

  if (this.y > canvasSnow.height) {
    this.y = -10;
    this.x = Math.random() * canvasSnow.width;
  }
};

Snowflake.prototype.draw = function () {
  ctxSnow.fillStyle = "#ffffff";
  ctxSnow.fillRect(this.x, this.y, this.size, this.size);
};

function initSnow() {
  for (let i = 0; i < 200; i++) {
    snowflakes.push(new Snowflake());
  }
}

function animateSnow() {
  ctxSnow.clearRect(0, 0, canvasSnow.width, canvasSnow.height);

  snowflakes.forEach(flake => {
    flake.update();
    flake.draw();
  });

  requestAnimationFrame(animateSnow);
}

initSnow();
animateSnow();
</script>

<script>
  // âœ… ë’¤ë¡œê°€ê¸° ì°¨ë‹¨ (pushState ë£¨í”„)
  (function blockBack() {
    history.pushState(null, "", location.href);
    window.addEventListener("popstate", function () {
      window.location.replace("no-access.html"); // ê°•ì œ ì°¨ë‹¨ í˜ì´ì§€ ì´ë™
    });
  })();

  // âœ… iOS Safari bfcache(ë’¤ë¡œê°€ê¸° ìºì‹œ) ì°¨ë‹¨
  window.addEventListener("pageshow", function (event) {
    if (event.persisted) {
      window.location.replace("no-access.html");
    }
  });

  // âœ… ì‚¬ìš©ì ì…ë ¥ ë°œìƒ ì‹œ ì¶”ê°€ ê²€ì‚¬ (iOSì—ì„œ ë³´ì¡° ì•ˆì „ì¥ì¹˜)
  ["touchstart", "click"].forEach(evt => {
    window.addEventListener(evt, () => {
      if (document.referrer && document.referrer.includes("no-access")) {
        window.location.replace("no-access.html");
      }
    }, { passive: true });
  });
</script>

</body>
</html>